title: "Flutter Test"
summary: |-
  Performs any test in a Flutter project.

description: |-

  If you have tests in your repository, and selected `yes` when prompted during app creation, the primary Workflow will include the **Flutter Test** Step by default. 
  If you add tests to your app later, add the **Flutter Test** Step to your Workflow manually. The Step runs the `flutter test` command with the specified flags. To check the available flags, open a command line interface on your own machine and run `flutter test --help`.

  ### Configuring the Step
  1. Provide your project's root directory in the **Project Location** field.
  2. The **Step's test result directory** is the root directory for all test results created by the Bitrise CLI. This input gets filled out automatically.
  3. You can append additional flags to the default `flutter test` command in the **Additional parameters** field.
  4. Select 'yes' in the **Generate code coverage files** input to get detailed analysis of your code.


  ### Troubleshooting
  Make sure the **Project Location** input of the Flutter Test Step is correct. 
  The default value is the Environment Variable (Env Var) created for your Flutter projectâ€™s location.


  ### Useful links
  - [Getting started with Flutter](https://devcenter.bitrise.io/getting-started/getting-started-with-flutter-apps/)
  - [About testing](https://devcenter.bitrise.io/testing/testing-index/)

  ### Related Steps
  - [Flutter Build](https://www.bitrise.io/integrations/steps/flutter-build)
  - [Flutter Analyze](https://www.bitrise.io/integrations/steps/flutter-analyze)

website: https://github.com/bitrise-steplib/bitrise-step-flutter-test
source_code_url: https://github.com/bitrise-steplib/bitrise-step-flutter-test
support_url: https://github.com/bitrise-steplib/bitrise-step-flutter-test/issues

type_tags:
  - test
project_type_tags:
  - flutter

is_requires_admin_user: true
is_always_run: false
is_skippable: false

deps:
  brew:
    - name: zsh
  apt_get:
    - name: zsh

toolkit:
  go:
    package_name: github.com/bitrise-steplib/bitrise-step-flutter-test

inputs:
  - project_location: "$BITRISE_SOURCE_DIR"
    opts:
      title: "Project Location"
      summary: "The root dir of your Flutter project."
      description: "The root dir of your Flutter project."
      is_required: true
  - bitrise_test_result_dir: $BITRISE_TEST_RESULT_DIR
    opts:
      title: Step's test result directory
      description: Root directory for all test results created by the Bitrise CLI
      is_required: true
      is_dont_change_value: true
  - generate_code_coverage_files: "no"
    opts:
      title: "Generate code coverage files?"
      description: |-
        In case of `generate_code_coverage_files: "yes"`
        `flutter test` gets `--coverage` passed
      value_options:
        - "yes"
        - "no"
      is_required: true
  - additional_params: 
    opts:
      title: "Additional parameters"
      summary: "The flags from this input field will be appended to the `flutter test` command."
      description: "The flags from this input field will be appended to the `flutter test` command."
outputs:
- BITRISE_FLUTTER_COVERAGE_PATH:
  opts:
    title: The path of the generated `lcov.info`
    description: |-
      The path of the generated code coverage `lcov.info` file.
- BITRISE_FLUTTER_TESTRESULT_PATH:
  opts:
    title: The path of the generated json test report
    description: |-
      The path of the json file that was generated by the `flutter test` command.